<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Lista productos</title>
        <script type="text/javascript" src="../js_scripts/listarInventario.js"></script>
        <script type="text/javascript" src="../js_scripts/jquery.js"></script>
        <script type="text/javascript" src="../js_scripts/funciones.js"></script>
        <!-- Bootstrap CSS configuraciones -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <link href="../css/main.css" type="text/css" rel="stylesheet"/>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const temaActual = localStorage.getItem("tema") || 'light';
                document.body.classList.add(`${temaActual}-mode`);
            });
        </script>
    </head>
    <body onload="paginaCargada()"  class="imagen-fondo">
        <!-- Dialogo para modificar datos del producto -->
        <dialog id="modificarProductoDialog" class="imagen-fondo">
            <form method="post" action="../php/modificarProducto.php">
                <input type="hidden" id="id" name="id"/>
                <div class="form-group">
                    <label for="nombre" class="text-light">Nombre del producto:</label>
                    <input type="text" id="nombre" placeholder="Nombre del producto"/>
                </div>
                <br/>
                <div class="form-group">
                    <label for="descripcion" class="text-light">Descripcion del producto:</label>
                    <textarea id="descripcion" placeholder="Descripcion del producto"></textarea>
                </div>
                <br/>
                <div class="form-group">
                    <label for="precio_vent" class="text-light">Precio de venta del producto:</label>
                    <input type="number" id="precio_vent" placeholder="Precio de venta del producto"/>
                </div>
                <br/>
                <div class="mt-3 d-flex justify-content-around">
                    <button type="submit" class="btn btn-outline-primary">Modificar datos</button>
                    <button type="reset" class="btn btn-outline-primary">Limpiar</button>
                    <button type="button" class="btn btn-outline-primary" onclick='document.getElementById("modificarProductoDialog").close();'>Cancelar</button>
                </div>
            </form>
        </dialog>
        <header class="d-flex flex-wrap justify-content-center py-1 mb-2 border-bottom container-base"></header>
            <h1 class="h1 d-flex justify-content-center">Listado de productos</h1>
        </header>
        <main class="col align-self-center container-xl card container-base" style="display: grid">
            <br/>
            <!-- <form method="post" action="enviarDatos()" id="form_principal"> -->
            <div class="card card-body container-base-secondary grid pt-2 pb-2">
                <div class="row justify-content-between">
                    <div class="form-group">
                        <label for="producto">Ingrese el nombre del producto:</label>
                    </div>
                    <div class="form-group">
                        <div class="col-md-6">
                            <input id="producto" class="form-control" placeholder="Ingrese un nombre para filtrar" onkeyup="filtrar(this.value)" oninput="filtrar(this.value)"/>
                        </div>
                        <div class="col-md-5">
                            <button class="btn btn-outline-primary" id="nuevoProducto" onclick='location.href= "./agregarProducto.html"'>Agregar entrada de producto</button>
                        </div>
                    </div>
                </div>
                <br/>
                <div class="card container-base-secondary grid pt-2 pb-2">
                    <div class="row justify-content-around card-body">
                        <table class="table border">
                            <thead>
                                <tr>
                                    <th scope="col" style='width: 50%;'>Nombre</th>
                                    <th scope="col" style="width: 15%;">Categoria</th>
                                    <th scope="col" style="width: 10%;">Stock</th>
                                    <th scope="col" style="width: 15%;">Precio</th>
                                </tr>
                                <tr>
                                    <td scope="col" style='width: 50%;'>
                                        <input class="form-control" type="text" name="inptNombreProductoInventario" id="inptNombreProductoInventario" placeholder="Nombre del producto" style="width: 150%;">
                                    </td>
                                    <td scope="col" style="width: 15%;">
                                        <select class="form-select" name="inptCategoriaProductoInventario" id="inptCategoriaProductoInventario">
                                            <option selected>Cargando...</option>
                                        </select>
                                    </td>
                                    <td scope="col" style="width: 10%;">
                                        <input class="form-control" type="number" name="inptCantidadProductoInventario" id="inptCantidadProductoInventario" placeholder="Cant." style="width: 150%;">
                                    </td>
                                    <td scope="col" style="width: 15%;"></td>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Se muestran los datos del inventario -->
                                <tr>
                                    <td colspan="4">
                                        <div class="d-flex justify-content-center">
                                            <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;"></div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <p class="text-sm-left font-weight-bold ms-3">*Seleccione un producto para modificar sus datos</p>
                    </div>
                </div>
                <div class="mt-3 d-flex justify-content-around">
                    <button class="btn btn-outline-danger" onclick='location.href= "../index.html"'>Volver al menu</button>
                </div>
            </div>
        </main>
    </body>
</html>